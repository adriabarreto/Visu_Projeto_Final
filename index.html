<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="utf-8">
  <title>Conflito vs Paz</title>
  <link rel="stylesheet" href="style.css">
  
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Black+Ops+One&family=Oswald:wght@200..700&family=Roboto:wght@300;400;700&display=swap" rel="stylesheet">
</head>

<body class="pagina-vis">

  <div id="custom-d3-tooltip"></div>

  <section class="hero">
    <div class="container">
      <h1>ESTAMOS VIVENDO EM TEMPOS DE PAZ?</h1>
      <div class="scroll-indicator">↓</div>
    </div>
  </section>

  <div class="sticky-controls">
    <div class="filter-item">
      <div id="observablehq-viewof-periodo_selecionado-ca2ec83e"></div>
    </div>
    <div class="filter-item">
      <div id="observablehq-viewof-métrica_ativa-ca2ec83e"></div>
    </div>
    <div class="filter-item">
      <div id="observablehq-viewof-tipo_ativo-ca2ec83e"></div>
    </div>
  </div>

  <section class="intro">
    <div class="container">
      <h2>A Ilusão da Paz Perpétua</h2>
      <p>
        1989. O Muro de Berlim caiu e, com ele, a promessa de um mundo unificado.
        O fim da Guerra Fria trouxe a expectativa de que a diplomacia substituiria
        definitivamente os mísseis. Mas os números contam uma história mais sombria...
      </p>
      <div class="scroll-indicator">↓</div>
    </div>
  </section>

  <section class="menu-trigger">
    <div class="content-wrapper">
      <div class="chart-box">
        <div id="observablehq-grafOne-d0f5227e"></div>
      </div>
      <div class="text-box">
        <h3>A violência continua por todo o globo</h3>
        <p>
          Note como a linha não desaparece após 1989; ela oscila e,
          recentemente, volta a subir, desafiando a ideia de paz absoluta.
        </p>
      </div>
    </div>
  </section>

  <section class="menu-trigger">
    <div class="content-wrapper">
      <div class="chart-box">
        <div id="observablehq-grafTwo-f9d10b62"></div>
        <div id="observablehq-grafThree-5d1d9318"></div>
      </div>
      <div class="text-box">
        <h2>A Violência mudou de DNA</h2>
        <p>
          A guerra moderna se fragmentou. Se antes o estado era o único protagonista, 
          hoje vemos a ascensão de organizações criminosas e grupos extremistas.
        </p>
      </div>
    </div>
  </section>

  <section class="menu-trigger">
    <div class="content-wrapper">
      <div class="chart-box">
        <div id="observablehq-grafFour-115d5d63"></div> 
        <div id="observablehq-grafFive-115d5d63"></div>
      </div>
      <div class="text-box">
        <h2>A Anatomia da Fatalidade</h2>
        <p>
          Onde o custo humano é mais alto? Não se trata apenas da quantidade de batalhas, 
          mas da sua letalidade. Analisar a média de mortes e o tipo de evento nos permite
          entender se estamos diante de combates militares tradicionais.
        </p>
      </div>
    </div>
  </section>

  <section class="full-width-section menu-trigger">
    <div class="content-wrapper">
      <div class="chart-box">
        <div id="observablehq-grafSix-ca2ec83e"></div>
        <div id="observablehq-grafSeven-adf0c5a8"></div>
      </div>
      <div class="text-box">
        <h2>Onde o mundo sangra</h2>
        <p>
          A distribuição geográfica revela os focos de tensão, 
          enquanto os dados abaixo detalham a intensidade dessas ocorrências.
        </p>
        <div id="observablehq-textMap-ca2ec83e"></div>
      </div>
    </div>
  </section>

  <section class="menu-trigger">
    <div class="content-wrapper">
      <div class="text-box">
        <h2>A Face da Violência</h2>
        <p>
          Quem são os arquitetos dessa desordem? Por trás das siglas e nomes, existe uma rede complexa de alianças e rivalidades.
        </p>
      </div>
      <div class="chart-box">
        <div id="observablehq-grafEigh-7db2f758"></div>
      </div>
    </div>
  </section>

  <section class="menu-trigger">
    <div class="content-wrapper">
      <div class="chart-box">
        <div id="observablehq-grafNine-37a85f5f"></div>
      </div>
      <div class="text-box">
        <h2>Protagonistas do Caos</h2>
        <p>
          Quem são os grupos por trás desses registros? Esta rede destaca os atores com maior impacto no período selecionado.
        </p>
      </div>
    </div>
  </section>

  <section class="intro">
    <div class="intro-content">
      <h2>Afinal, estamos em Paz?</h2>
      <p>
        A resposta curta é: depende da sua definição de paz. Se a paz é apenas a ausência de uma guerra mundial,
        os dados nos dão um conforto frágil. A violência não sumiu; ela se adaptou.
      </p>
    </div>
  </section>

  <script type="module">
    import {Runtime, Inspector} from "https://cdn.jsdelivr.net/npm/@observablehq/runtime@5/dist/runtime.js";
    import define from "https://api.observablehq.com/d/bae91f33eae7b8be.js?v=4";

    const runtime = new Runtime();
    runtime.module(define, name => {
      // Inputs/Filtros
      if (name === "viewof periodo_selecionado") return new Inspector(document.querySelector("#observablehq-viewof-periodo_selecionado-ca2ec83e"));
      if (name === "viewof métrica_ativa") return new Inspector(document.querySelector("#observablehq-viewof-métrica_ativa-ca2ec83e"));
      if (name === "viewof tipo_ativo") return new Inspector(document.querySelector("#observablehq-viewof-tipo_ativo-ca2ec83e"));
      
      // Gráficos
      if (name === "grafSix") return new Inspector(document.querySelector("#observablehq-grafSix-ca2ec83e"));
      if (name === "textMap") return new Inspector(document.querySelector("#observablehq-textMap-ca2ec83e"));
      if (name === "grafSeven") return new Inspector(document.querySelector("#observablehq-grafSeven-adf0c5a8"));
      if (name === "grafEigh") return new Inspector(document.querySelector("#observablehq-grafEigh-7db2f758"));
      if (name === "grafOne") return new Inspector(document.querySelector("#observablehq-grafOne-d0f5227e"));
      if (name === "grafTwo") return new Inspector(document.querySelector("#observablehq-grafTwo-f9d10b62"));
      if (name === "grafThree") return new Inspector(document.querySelector("#observablehq-grafThree-5d1d9318"));
      if (name === "grafFour") return new Inspector(document.querySelector("#observablehq-grafFour-115d5d63"));
      if (name === "grafFive") return new Inspector(document.querySelector("#observablehq-grafFive-115d5d63"));
      if (name === "grafNine") return new Inspector(document.querySelector("#observablehq-grafNine-37a85f5f"));
      
      return ["dados_para_o_mapa", "dados_para_nuvem"].includes(name);
    });

    // Fade-in Observer
    const sectionObserver = new IntersectionObserver(entries => {
      entries.forEach(entry => {
        if (entry.isIntersecting) entry.target.classList.add("is-visible");
      });
    }, { threshold: 0.1 });
    document.querySelectorAll("section").forEach(s => sectionObserver.observe(s));

    // Sticky Menu Observer
    const stickyMenu = document.querySelector(".sticky-controls");
    const triggers = document.querySelectorAll(".menu-trigger");
    const menuObserver = new IntersectionObserver(entries => {
      const isAnyVisible = entries.some(e => e.isIntersecting);
      stickyMenu.classList.toggle("is-visible", isAnyVisible);
    }, { threshold: 0.1 });
    triggers.forEach(t => menuObserver.observe(t));
  </script>
</body>
</html>